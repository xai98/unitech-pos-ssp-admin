import{k as K,e as r,v as H,w as Q,x as I,y as U,z as q,A as J,D as Y,E as y,H as Z,J as B,K as k,g as ee,L as te,j as c,M as ne,f as ae,N as _,l as le,B as re,O as ie,s as T,P as se,Q as oe}from"./index-DRi-8pgo.js";const de={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},W=K.createContext({});var me=function(t,e){var l={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(l[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(l[n[a]]=t[n[a]]);return l};const ce=t=>Q(t).map(e=>Object.assign(Object.assign({},e==null?void 0:e.props),{key:e.key}));function pe(t,e,l){const n=r.useMemo(()=>e||ce(l),[e,l]);return r.useMemo(()=>n.map(s=>{var{span:i}=s,p=me(s,["span"]);return Object.assign(Object.assign({},p),{span:typeof i=="number"?i:H(t,i)})}),[n,t])}function A(t,e,l){let n=t,a=!1;return(l===void 0||l>e)&&(n=Object.assign(Object.assign({},t),{span:e}),a=l!==void 0),[n,a]}function ge(t,e){const l=[];let n=[],a=e,s=!1;return t.filter(i=>i).forEach((i,p)=>{const g=i==null?void 0:i.span,d=g||1;if(p===t.length-1){const[m,u]=A(i,a,g);s=s||u,n.push(m),l.push(n);return}if(d<a)a-=d,n.push(i);else{const[m,u]=A(i,a,d);s=s||u,n.push(m),l.push(n),a=e,n=[]}}),[l,s]}const be=(t,e)=>{const[l,n]=r.useMemo(()=>ge(e,t),[e,t]);return l},ue=t=>{let{children:e}=t;return e};function R(t){return t!=null}const x=t=>{const{itemPrefixCls:e,component:l,span:n,className:a,style:s,labelStyle:i,contentStyle:p,bordered:g,label:d,content:m,colon:u,type:f}=t,o=l;return g?r.createElement(o,{className:I({[`${e}-item-label`]:f==="label",[`${e}-item-content`]:f==="content"},a),style:s,colSpan:n},R(d)&&r.createElement("span",{style:i},d),R(m)&&r.createElement("span",{style:p},m)):r.createElement(o,{className:I(`${e}-item`,a),style:s,colSpan:n},r.createElement("div",{className:`${e}-item-container`},(d||d===0)&&r.createElement("span",{className:I(`${e}-item-label`,{[`${e}-item-no-colon`]:!u}),style:i},d),(m||m===0)&&r.createElement("span",{className:I(`${e}-item-content`),style:p},m)))};function z(t,e,l){let{colon:n,prefixCls:a,bordered:s}=e,{component:i,type:p,showLabel:g,showContent:d,labelStyle:m,contentStyle:u}=l;return t.map((f,o)=>{let{label:O,children:P,prefixCls:v=a,className:E,style:w,labelStyle:h,contentStyle:b,span:j=1,key:C}=f;return typeof i=="string"?r.createElement(x,{key:`${p}-${C||o}`,className:E,style:w,labelStyle:Object.assign(Object.assign({},m),h),contentStyle:Object.assign(Object.assign({},u),b),span:j,colon:n,component:i,itemPrefixCls:v,bordered:s,label:g?O:null,content:d?P:null,type:p}):[r.createElement(x,{key:`label-${C||o}`,className:E,style:Object.assign(Object.assign(Object.assign({},m),w),h),span:1,colon:n,component:i[0],itemPrefixCls:v,bordered:s,label:O,type:"label"}),r.createElement(x,{key:`content-${C||o}`,className:E,style:Object.assign(Object.assign(Object.assign({},u),w),b),span:j*2-1,component:i[1],itemPrefixCls:v,bordered:s,content:P,type:"content"})]})}const ye=t=>{const e=r.useContext(W),{prefixCls:l,vertical:n,row:a,index:s,bordered:i}=t;return n?r.createElement(r.Fragment,null,r.createElement("tr",{key:`label-${s}`,className:`${l}-row`},z(a,t,Object.assign({component:"th",type:"label",showLabel:!0},e))),r.createElement("tr",{key:`content-${s}`,className:`${l}-row`},z(a,t,Object.assign({component:"td",type:"content",showContent:!0},e)))):r.createElement("tr",{key:s,className:`${l}-row`},z(a,t,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},e)))},fe=t=>{const{componentCls:e,labelBg:l}=t;return{[`&${e}-bordered`]:{[`> ${e}-view`]:{border:`${y(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"> table":{tableLayout:"auto"},[`${e}-row`]:{borderBottom:`${y(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${y(t.padding)} ${y(t.paddingLG)}`,borderInlineEnd:`${y(t.lineWidth)} ${t.lineType} ${t.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${e}-item-label`]:{color:t.colorTextSecondary,backgroundColor:l,"&::after":{display:"none"}}}},[`&${e}-middle`]:{[`${e}-row`]:{[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${y(t.paddingSM)} ${y(t.paddingLG)}`}}},[`&${e}-small`]:{[`${e}-row`]:{[`> ${e}-item-label, > ${e}-item-content`]:{padding:`${y(t.paddingXS)} ${y(t.padding)}`}}}}}},he=t=>{const{componentCls:e,extraColor:l,itemPaddingBottom:n,itemPaddingEnd:a,colonMarginRight:s,colonMarginLeft:i,titleMarginBottom:p}=t;return{[e]:Object.assign(Object.assign(Object.assign({},J(t)),fe(t)),{"&-rtl":{direction:"rtl"},[`${e}-header`]:{display:"flex",alignItems:"center",marginBottom:p},[`${e}-title`]:Object.assign(Object.assign({},Y),{flex:"auto",color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}),[`${e}-extra`]:{marginInlineStart:"auto",color:l,fontSize:t.fontSize},[`${e}-view`]:{width:"100%",borderRadius:t.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${e}-row`]:{"> th, > td":{paddingBottom:n,paddingInlineEnd:a},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${e}-item-label`]:{color:t.colorTextTertiary,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${y(i)} ${y(s)}`},[`&${e}-item-no-colon::after`]:{content:'""'}},[`${e}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${e}-item-content`]:{display:"table-cell",flex:1,color:t.contentColor,fontSize:t.fontSize,lineHeight:t.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${e}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${e}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${e}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:0}}},"&-middle":{[`${e}-row`]:{"> th, > td":{paddingBottom:t.paddingSM}}},"&-small":{[`${e}-row`]:{"> th, > td":{paddingBottom:t.paddingXS}}}})}},$e=t=>({labelBg:t.colorFillAlter,titleColor:t.colorText,titleMarginBottom:t.fontSizeSM*t.lineHeightSM,itemPaddingBottom:t.padding,itemPaddingEnd:t.padding,colonMarginRight:t.marginXS,colonMarginLeft:t.marginXXS/2,contentColor:t.colorText,extraColor:t.colorText}),je=U("Descriptions",t=>{const e=q(t,{});return he(e)},$e);var Oe=function(t,e){var l={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(l[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(l[n[a]]=t[n[a]]);return l};const $=t=>{const{prefixCls:e,title:l,extra:n,column:a,colon:s=!0,bordered:i,layout:p,children:g,className:d,rootClassName:m,style:u,size:f,labelStyle:o,contentStyle:O,items:P}=t,v=Oe(t,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:E,direction:w,descriptions:h}=r.useContext(Z),b=E("descriptions",e),j=B(),C=r.useMemo(()=>{var N;return typeof a=="number"?a:(N=H(j,Object.assign(Object.assign({},de),a)))!==null&&N!==void 0?N:3},[j,a]),D=pe(j,P,g),M=k(f),X=be(C,D),[F,G,S]=je(b),V=r.useMemo(()=>({labelStyle:o,contentStyle:O}),[o,O]);return F(r.createElement(W.Provider,{value:V},r.createElement("div",Object.assign({className:I(b,h==null?void 0:h.className,{[`${b}-${M}`]:M&&M!=="default",[`${b}-bordered`]:!!i,[`${b}-rtl`]:w==="rtl"},d,m,G,S),style:Object.assign(Object.assign({},h==null?void 0:h.style),u)},v),(l||n)&&r.createElement("div",{className:`${b}-header`},l&&r.createElement("div",{className:`${b}-title`},l),n&&r.createElement("div",{className:`${b}-extra`},n)),r.createElement("div",{className:`${b}-view`},r.createElement("table",null,r.createElement("tbody",null,X.map((N,L)=>r.createElement(ye,{key:L,index:L,colon:s,prefixCls:b,vertical:p==="vertical",bordered:i,row:N}))))))))};$.Item=ue;const{Option:ve}=_,we=({stockCenter:t,selectStockBox:e,open:l,onCancel:n,refetchStockBox:a})=>{var f;const[s,i]=r.useState(""),[p,{loading:g}]=ee(se,{onCompleted:()=>{i(""),T.success(`ນຳຖົງ ${(e==null?void 0:e.boxNo)||""} ສຳເລັດ`),a(),n()}}),{data:d}=te(oe,{fetchPolicy:"network-only"}),m=r.useMemo(()=>{var o;return((o=d==null?void 0:d.Branchs)==null?void 0:o.data)||[]},[d]),u=async()=>{if(!g){if(!s){T.warning("ກະລຸນາເລືອກສາຂາກ່ອນ");return}try{await p({variables:{data:{stockCenterId:t==null?void 0:t.id,status:"export"},where:{id:e==null?void 0:e.id}}})}catch{}}};return c.jsx(c.Fragment,{children:c.jsxs(ne,{title:`ນຳຖົງ ${(e==null?void 0:e.boxNo)||""} ລົງສາຂາ`,open:l,onCancel:n,footer:null,confirmLoading:g,loading:g,children:[c.jsx(ae.Item,{label:"ເລືອກສາຂາ",name:"branchId",rules:[{required:!0,message:"กรุณาเลือกสาขา"}],style:{marginTop:20},children:c.jsx(_,{placeholder:"ເລືອກສາຂາ",size:"large",style:{width:"100%"},value:s,onChange:o=>i(o),children:m==null?void 0:m.map(o=>c.jsx(ve,{value:o==null?void 0:o.id,children:o==null?void 0:o.branchName},o==null?void 0:o.item))})}),c.jsxs($,{bordered:!0,column:1,size:"middle",children:[c.jsx($.Item,{label:"ຊື່ສິນຄ້າ",children:(t==null?void 0:t.productName)||"N/A"}),c.jsx($.Item,{label:"ປະເພດສິນຄ້າ",children:((f=t==null?void 0:t.categoryId)==null?void 0:f.categoryName)||"N/A"}),c.jsx($.Item,{label:"ລະຫັດຖົງ",children:(e==null?void 0:e.boxNo)||"N/A"}),c.jsxs($.Item,{label:"ຈຳນວນເຄື່ອງໃນຖົງ",children:[e!=null&&e.amount?e==null?void 0:e.amount.toLocaleString():"0"," ","/"," ",e!=null&&e.amountLimit?e==null?void 0:e.amountLimit.toLocaleString():"0"]}),c.jsx($.Item,{label:"ລາຍລະອຽດ",children:(e==null?void 0:e.details)||""}),c.jsx($.Item,{label:"ວັນທີສ້າງ",children:e!=null&&e.createdAt?le(e==null?void 0:e.createdAt):""}),c.jsx($.Item,{label:"ຜູ້ສ້າງ",children:(e==null?void 0:e.createdBy)||""})]}),c.jsx(re,{color:"green",size:"large",icon:c.jsx(ie,{}),onClick:u,block:!0,style:{marginTop:10},loading:g,children:"ຢືນຢັນການນຳອອກ"})]})})};export{we as default};
